class t{constructor(t,{target:s,config:i,callback:h,skipInitial:n}){this.t=!1,this.o=!1,this.callback=()=>!0,(this.i=t).addController(this),this.h=null===s||null!=s?s:this.i,this.t=null!=n?n:this.t,this.callback=null!=h?h:this.callback,window.IntersectionObserver?this.u=new IntersectionObserver((t=>{const s=this.o;this.o=!1,this.t&&s||(this.handleChanges(t),this.i.requestUpdate())}),i):console.warn("IntersectionController error: browser does not support IntersectionObserver.")}handleChanges(t){this.value=this.callback(t,this.u)}hostConnected(){this.h&&this.observe(this.h)}hostDisconnected(){this.disconnect()}async hostUpdated(){const t=this.u.takeRecords();t.length&&this.handleChanges(t)}observe(t){this.u.observe(t),this.o=!0}disconnect(){this.u.disconnect()}}export{t as IntersectionController};
//# sourceMappingURL=intersection_controller.js.map
